id: REQ-1
name: 首页查询页
functional_description: 首页查询页面的整体设计与功能定义。
children:
  - id: REQ-1-1
    name: 首页查询页布局
    children:
      - id: REQ-1-1-1
        name: 整体页面布局
        ui_description: |
          背景为white（白色），分上、中、下三部分布局，最上方为顶部导航区域，中间为车票查询表单区域，最下方为底部导航区域。
      - id: REQ-1-1-2
        name: 顶部导航区域（HomeTopBar）
        ui_description: |
          - **整体样式**：背景为white（白色），底部边框为#e0e0e0（浅灰色），阴影为0 1px 3px rgba(0, 0, 0, 0.05)，最大宽度1400px，内边距12px 40px
          - **Logo 区域**：页面左上角为Logo区域，左侧为中国铁路12306官方Logo（尺寸60px×60px），右侧上方为"中国铁路12306"（字体大小22px，字体加粗，颜色#333333（深灰色），字间距1.3px），下方为"12306 CHINA RAILWAY"（字体大小15px，颜色#999999（灰色），字间距0.1px），点击可跳转到12306首页
          - **搜索框**：位于Logo区域和右侧链接区域之间，最大宽度480px，高度36px，内边距0 50px 0 16px，边框为#d0d0d0（浅灰色），字体大小13px，文字颜色#333333（深灰色），占位符颜色#999999（浅灰色），focus时边框为#3B99FC（蓝色），带有阴影效果rgba(59, 153, 252, 0.1)，右侧搜索按钮宽度42px，高度36px，背景#3B99FC（蓝色），hover时背景#0082fc（深蓝色）
          - **右侧链接区域**：显示"登录"、"注册"、"个人中心"等链接，字体大小14px，链接颜色#3B99FC（蓝色），hover时颜色#2a88eb（深蓝色），链接之间间距8px，链接之间用竖线分隔（颜色#3B99FC，宽度1px，高度12px）
          - **已登录状态**：显示"欢迎，[用户名]"（用户名颜色#2196f3（蓝色），字体加粗，字体大小14px），以及"退出"链接（颜色#3B99FC，字体大小14px）
      - id: REQ-1-1-3
        name: 主导航栏（MainNavigation）
        ui_description: |
          - **整体样式**：背景为#3B99FC（蓝色），底部边框为#2a88eb（深蓝色），阴影为0 2px 5px rgba(0, 0, 0, 0.12)，高度45px，最大宽度1400px，内边距0 40px，粘性定位（sticky）
          - **导航项目**：包含"车票查询"、"订单查询"、"我的12306"等导航项，每个导航项平分宽度（flex: 1），内边距0 24px，字体大小16px，文字颜色white（白色），hover时背景#2676E3（深蓝色），左侧边框为rgba(255, 255, 255, 0.1)（半透明白色）
          - **登录/注册按钮**：位于导航栏右侧，内边距6px 18px，边框为rgba(255, 255, 255, 0.8)（半透明白色），圆角4px，背景rgba(255, 255, 255, 0.1)（半透明白色），文字颜色white（白色），字体大小14px，字体加粗（font-weight: 500），hover时背景rgba(255, 255, 255, 0.25)（更亮的半透明白色）
      - id: REQ-1-1-4
        name: 车票查询表单区域
        ui_description: |
          - **推广背景**：中间为宽屏12306官方APP推广，作为车票查询表单的背景（直接使用图片"首页-背景图-1.png"），背景图片覆盖整个查询区域，最小高度400px，内边距60px 0
          - **车票查询表单容器**：最大宽度530px，背景white（白色），阴影0 2px 8px rgba(0, 0, 0, 0.12)，无圆角，定位在推广背景左侧
          - **左侧边栏**：宽度100px，背景#3B99FC（蓝色），包含三个选项卡按钮（"车票"、"常用查询"、"订餐"），每个按钮内边距20px 10px 20px 5px，字体大小16px，文字颜色white（白色），底部边框为rgba(255, 255, 255, 0.2)（半透明白色），hover时背景rgba(255, 255, 255, 0.1)（半透明白色），选中时背景white（白色），文字颜色#3B99FC（蓝色），左侧边框为3px solid #3B99FC（蓝色），图标尺寸18px×18px
          - **表单内容区域**：背景white（白色），内边距0 24px 14px 24px
          - **车票选项卡**：包含"单程"、"往返"、"中转换乘"、"退改签"四个选项卡，每个选项卡平分宽度，内边距10px 5px 8px 5px，字体大小14px，未选中时文字颜色#999999（灰色），选中时文字颜色#3B99FC（蓝色），底部边框为2px solid #e0e0e0（浅灰色），选中时底部边框为2px solid #3B99FC（蓝色），图标尺寸16px×16px
          - **站点选择区域**：内边距20px 30px 0 30px，右侧预留70px用于放置交换按钮
              - **出发城市输入框**：左侧标签"出发城市"（字体大小14px，颜色#333333（深灰色），最小宽度56px，右对齐），输入框宽度100%，右侧位置图标（尺寸18px×18px，颜色#cccccc（浅灰色））
              - **到达城市输入框**：左侧标签"到达城市"（字体大小14px，颜色#333333（深灰色），最小宽度56px，右对齐），输入框宽度100%，右侧位置图标（尺寸18px×18px，颜色#cccccc（浅灰色））
              - **交换按钮**：位于出发地和到达地输入框之间，位置绝对定位（right: 25px, top: 18px），尺寸20px×20px，背景#ff7700（橙色），圆形（border-radius: 50%），图标尺寸18px×18px，颜色white（白色），hover时缩放0.96
              - **连接折线**：灰色Z字形折线（颜色#e5e5e5（浅灰色），宽度2px），尺寸40px×90px
          - **出发日期输入框**：左侧标签"出发日期"（字体大小14px，颜色#333333（深灰色），最小宽度56px，右对齐），输入框宽度100%，右侧日历图标（尺寸18px×18px，颜色#cccccc（浅灰色）），内边距0 30px，上边距5px
          - **复选框区域**：两个复选框居中排列，间距40px，内边距5px
              - **"学生"复选框**：文字在左，勾选框在右，间距8px，字体大小14px，颜色#333333（深灰色），勾选框尺寸16px×16px，边框#d0d0d0（浅灰色），选中时背景#3B99FC（蓝色），边框#3B99FC（蓝色），勾选标记为白色"✓"（字体大小12px，字体加粗）
              - **"高铁/动车"复选框**：样式与"学生"复选框相同
          - **查询按钮**：宽度100%，内边距5px，背景#FF8001（橙色），文字white（白色），字体大小16px，字体加粗，圆角5px，字间距8px，hover时背景#fd6900（深橙色），禁用时背景#cccccc（灰色）
          - **错误提示**：文字颜色#d32f2f（红色），字体大小13px，内边距10px 0px，背景#ffebee（浅红色），居中对齐，带有滑入动画效果
      - id: REQ-1-1-5
        name: 中部快捷按钮区域
        ui_description: |
          - **整体样式**：背景white（白色），上边距40px，最大宽度1300px，内边距0 40px
          - **快捷按钮图片**：直接使用图片"首页中部.png"，宽度100%，高度自适应
      - id: REQ-1-1-6
        name: 宣传栏区域
        ui_description: |
          - **整体样式**：最大宽度1300px，上边距30px，内边距0 40px
          - **宣传卡片网格**：2列网格布局，间距20px
          - **宣传卡片**：背景white（白色），无圆角，阴影0 2px 8px rgba(0, 0, 0, 0.08)，hover时上移4px，阴影0 6px 16px rgba(0, 0, 0, 0.12)，包含四张宣传图片（"首页-会员服务-左上.jpg"、"首页-餐饮特产-右上.jpg"、"首页-铁路保险-左下.jpg"、"首页-计次定期票-右下.png"）
      - id: REQ-1-1-7
        name: 底部发布区域
        ui_description: |
          - **整体样式**：背景white（白色），上边距30px，下边距40px，最大宽度1300px，内边距0 40px
          - **发布图片**：直接使用图片"首页-底部发布.png"，宽度100%，高度自适应
      - id: REQ-1-1-8
        name: 底部导航区域
        ui_description: |
          - **底部导航**：左侧为友情链接，右侧为四个官方平台的二维码，分别为"中国铁路官方微信"（直接使用图片二维码"中国铁路官方微信二维码.png"）、"中国铁路官方微博"（直接使用图片二维码"中国铁路官方微博二维码.png"）、"12306 公众号"（直接使用图片二维码"12306公众号二维码.png"）、"铁路 12306"（直接使用图片二维码"铁路12306二维码.png"）

  - id: REQ-1-2
    name: 用户在首页/查询页发起车票查询
    children:
      - id: REQ-1-2-1
        name: 校验用户输入的出发地是否为空
        scenarios:
          - name: 用户未在车票查询表单中输入出发地
            steps:
              - action: 用户在**首页/查询页**且未在车票查询表单中输入出发地
                expectation: 系统就绪
              - action: 用户在车票查询表单中点击**查询**
                expectation: 查询按钮上方出现系统提示"请选择出发城市"，文字颜色#d32f2f（红色），字体大小13px，内边距10px 0px，背景#ffebee（浅红色），居中对齐

      - id: REQ-1-2-2
        name: 校验用户输入的到达地是否为空
        scenarios:
          - name: 用户未在车票查询表单中输入到达地
            steps:
              - action: 用户在**首页/查询页**且未在车票查询表单中输入到达地
                expectation: 系统就绪
              - action: 用户在车票查询表单中点击**查询**
                expectation: 查询按钮上方出现系统提示"请选择到达城市"，文字颜色#d32f2f（红色），字体大小13px，内边距10px 0px，背景#ffebee（浅红色），居中对齐

      - id: REQ-1-2-3
        name: 校验用户输入的出发地和到达地是否合法
        scenarios:
          - name: 用户在车票查询表单中输入的出发地不在12306支持的城市列表中
            steps:
              - action: 用户在**首页/查询页**的车票查询表单中输入了一个不在**数据库**的城市作为出发地或到达地
                expectation: 系统就绪
              - action: 用户在车票查询表单中点击**查询**
                expectation: 查询按钮上方出现系统提示"无法匹配该出发城市"或"无法匹配该到达城市"，文字颜色#d32f2f（红色），字体大小13px，内边距10px 0px，背景#ffebee（浅红色），居中对齐

      - id: REQ-1-2-5
        name: 合法出发地推荐
        scenarios:
          - name: 用户未选择或已选择出发地
            steps:
              - action: 用户在**首页/查询页**
                expectation: 系统就绪
              - action: 用户在车票查询表单中点击出发地输入框
                expectation: 系统在出发地下拉条目中显示**数据库**中的所有站点

      - id: REQ-1-2-6
        name: 合法到达地推荐
        scenarios:
          - name: 用户未选择或已选择到达地
            steps:
              - action: 用户在**首页/查询页**
                expectation: 系统就绪
              - action: 用户在车票查询表单中点击到达地输入框
                expectation: 系统在到达地下拉条目中显示**数据库**中的所有站点

      - id: REQ-1-2-7
        name: 合法出发日期推荐
        scenarios:
          - name: 用户未选择或已选择出发日期
            steps:
              - action: 用户在**首页/查询页**
                expectation: 系统就绪
              - action: 用户在车票查询表单中点击出发日期选择框
                expectation: 系统在出发日期下拉条目中显示日历，用户可以选择已放票的日期，不能选择已过期或未开票的日期

      - id: REQ-1-2-8
        name: 出发地/到达地交换
        scenarios:
          - name: 用户点击交换按钮
            steps:
              - action: 用户在**首页/查询页**的车票查询表单中已选择出发地或到达地
                expectation: 系统就绪
              - action: 用户点击**交换按钮**
                expectation: 系统交换出发地和到达地的输入框内容

      - id: REQ-1-2-9
        name: 出发日期自动填入当前日期
        scenarios:
          - name: 用户未输入出发日期或还未进行输入出发日期操作
            steps:
              - action: 用户在**车票查询页面**
                expectation: 系统就绪
              - action: 用户未输入出发日期或还未进行输入出发日期操作
                expectation: 系统在出发日期自动填入当前日期

      - id: REQ-1-2-10
        name: 用户成功查询
        scenarios:
          - name: 用户在**首页/查询页**的车票查询表单中输入了正确的出发地、到达地、出发日期且系统响应
            steps:
              - action: 用户在**首页/查询页**的车票查询表单中输入了正确的出发地、到达地、出发日期
                expectation: 系统就绪
              - action: 用户点击“**查询**”按钮
                expectation: 系统成功响应，并在100毫秒内成功跳转至车次列表页，且显示符合用户选择的出发地、到达地、出发日期且是否为高铁/动车的所有车次信息
          - name: 用户在**首页/查询页**的车票查询表单中输入了正确的出发地、到达地、出发日期但系统未响应
            steps:
              - action: 用户在**首页/查询页**的车票查询表单中输入了正确的出发地、到达地、出发日期
                expectation: 系统就绪
              - action: 用户点击"**查询**"按钮
                expectation: 查询按钮上方出现系统提示"查询失败，请稍后重试"，文字颜色#d32f2f（红色），字体大小13px，内边距10px 0px，背景#ffebee（浅红色），居中对齐；系统停留在当前页面且保持已输入的出发地、到达地、出发日期

  - id: REQ-1-3
    name: 用户在首页/查询页登录/注册
    children:
      - id: REQ-1-3-1
        name: 用户需要登录12306账户
        scenarios:
          - name: 用户需未登录12306账户
            steps:
              - action: 用户在**首页/查询页**
                expectation: 系统就绪
              - action: 用户点击“**登录**”按钮（用户未登录12306账户）
                expectation: 系统成功响应，在100毫秒内跳转至登录页
          - name: 用户需未登录12306账户（系统未响应）
            steps:
              - action: 用户在**首页/查询页**
                expectation: 系统就绪
              - action: 用户点击“**登录**”按钮（用户未登录12306账户）
                expectation: 系统未在100毫秒内跳转至登录页，且提示“登录失败，请稍后重试”

      - id: REQ-1-3-2
        name: 用户需要注册12306账户
        scenarios:
          - name: 用户需要注册12306账户
            steps:
              - action: 用户在**首页/查询页**
                expectation: 系统就绪
              - action: 用户点击“**注册**”按钮（用户未注册12306账户）
                expectation: 系统成功响应，在100毫秒内跳转至注册页
          - name: 用户需要注册12306账户（系统未响应）
            steps:
              - action: 用户在**首页/查询页**
                expectation: 系统就绪
              - action: 用户点击“**注册**”按钮（用户未注册12306账户）
                expectation: 系统未在100毫秒内跳转至注册页，且提示“注册失败，请稍后重试”

      - id: REQ-1-3-3
        name: 用户已登录12306账号
        scenarios:
          - name: 用户已登录12306账号
            steps:
              - action: 用户在**首页/查询页**
                expectation: 系统就绪
              - action: 用户已登录12306账户
                expectation: 系统在顶部导航栏仅显示“个人中心”入口，不显示“登录”和“注册”入口

  - id: REQ-1-4
    name: 用户在首页/查询页需前往个人中心
    children:
      - id: REQ-1-4-1
        name: 用户已登录12306账户
        scenarios:
          - name: 用户已登录12306账户
            steps:
              - action: 用户在**首页/查询页**，已登录12306账户
                expectation: 系统就绪
              - action: 用户点击“**个人中心**”入口
                expectation: 系统成功响应，在100毫秒内跳转至该用户账号对应的个人中心页
          - name: 用户已登录12306账户（系统未响应）
            steps:
              - action: 用户在**首页/查询页**，已登录12306账户
                expectation: 系统就绪
              - action: 用户点击“**个人中心**”入口
                expectation: 系统未在100毫秒内跳转至该用户账号对应的个人中心页，且提示“前往个人中心失败，请稍后重试”

      - id: REQ-1-4-2
        name: 用户未登录12306账户
        scenarios:
          - name: 用户未登录12306账号
            steps:
              - action: 用户在**首页/查询页**，未登录12306账户
                expectation: 系统就绪
              - action: 用户点击“**个人中心**”入口
                expectation: 系统成功响应，在100毫秒内跳转至登录页
          - name: 用户未登录12306账号（系统未响应）
            steps:
              - action: 用户在**首页/查询页**，未登录12306账户
                expectation: 系统就绪
              - action: 用户点击“**个人中心**”入口
                expectation: 系统未在100毫秒内跳转至登录页，且提示“请先登录12306账号！”

  - id: REQ-1-5
    name: 用户在首页/查询页点车票查询页快捷入口
    scenarios:
      - name: 用户在首页/查询页点车票查询页快捷入口
        steps:
          - action: 用户在**首页/查询页**
            expectation: 系统就绪
          - action: 用户点击“**车票查询**”入口
            expectation: 系统成功响应，在100毫秒内跳转至车票查询页
      - name: 用户在首页/查询页点车票查询页快捷入口（失败）
        steps:
          - action: 用户在**首页/查询页**
            expectation: 系统就绪
          - action: 用户点击“**车票查询**”入口
            expectation: 系统未在100毫秒内跳转至车票查询页，且提示“查询失败，请稍后重试”
