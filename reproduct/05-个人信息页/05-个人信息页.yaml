- id: REQ-7
  name: 用户基本信息页
  description: 用户个人中心的基本信息展示与管理页面
  functional_description: 提供用户查看个人信息、修改部分信息（如邮箱）、跳转至其他管理页面（手机核验、乘客管理等）的功能。
  ui_description: |
    整体布局分为顶部导航栏、中部主要内容区域和底部导航区域。
    中部主要内容区域左侧为功能菜单栏，右侧为个人信息展示面板。
    左侧菜单栏包含订单中心（火车票订单）、个人信息（查看个人信息、手机核验）、常用信息管理（乘车人）。
    右侧面板包含基本信息模块、联系方式模块、附加信息模块。
    基本信息模块展示用户名、姓名、证件类型、证件号码、核验状态。
    联系方式模块展示手机号、核验状态、邮箱（可编辑）。
    附加信息模块展示优惠类型（可编辑）。
  children:
  - id: REQ-7.1
    name: 用户基本信息页布局
    description: 页面整体及各部分的视觉样式和布局定义
    ui_description: |
      1. 整体布局：背景白色，宽1200px，分顶部、中部、底部。
      2. 顶部导航：Logo区域（左上角）、欢迎信息（Logo右侧）。
      3. 位置导航：面包屑导航，显示“当前位置：个人中心 > 查看个人信息”。
      4. 左侧功能菜单栏：宽220px，包含“订单中心”、“个人信息”、“常用信息管理”等大分区及对应小分区。
      5. 右侧个人信息展示面板：Flex布局，包含基本信息、联系方式、附加信息三个模块。
      6. 基本信息模块：展示只读的个人身份信息。
      7. 联系方式模块：展示手机号（脱敏）、核验状态（带跳转链接）、邮箱（可编辑）。
      8. 附加信息模块：展示优惠类型（可编辑下拉框）。
      9. 底部导航：包含友情链接和官方二维码。
  - id: REQ-7.2
    name: 邮箱信息展示
    description: 根据数据库状态显示邮箱信息
    scenarios:
      - id: SCN-7.2.1
        description: 数据库无邮箱信息
        given: 数据库中未存储该用户的“邮箱”信息
        when: 用户点击左侧功能菜单栏的小分区“查看个人信息”
        then: 页面仅显示“邮箱：”，后不含任何信息
      - id: SCN-7.2.2
        description: 数据库有邮箱信息
        given: 数据库中存储了该用户的“邮箱”信息
        when: 用户点击左侧功能菜单栏的小分区“查看个人信息”
        then: 页面显示“邮箱：xxxx@xxx”，内容为数据库查询结果
  - id: REQ-7.3
    name: 修改联系方式
    description: 进入手机核验流程
    scenarios:
      - id: SCN-7.3.1
        description: 点击编辑进入手机核验入口
        given: 用户在用户基本信息页
        when: 用户点击联系方式模块栏的”编辑“按钮
        then: |
          页面将“已通过核验”状态改为“去手机核验修改”链接。
          用户点击“手机核验”可以跳转到“手机核验页”。

- id: REQ-8
  name: 手机核验页
  description: 用户进行手机双向核验的页面
  functional_description: 提供用户输入新手机号、验证登录密码、进行短信验证码核验的功能。
  ui_description: |
    整体布局与用户基本信息页类似，右侧为手机核验信息展示面板。
    右侧面板包含手机核验模块（新手机号输入）、登录密码模块（密码输入）、按钮组件（取消/确认）。
  children:
  - id: REQ-8.1
    name: 手机核验页布局
    description: 页面视觉样式定义
    ui_description: |
      1. 顶部导航栏：包含Logo、搜索框、右侧链接区域（登录/注册/个人中心）。
      2. 位置导航：显示“当前位置：个人中心 > 个人信息 > 账号安全 > 手机核验”。
      3. 右侧手机核验面板：包含原手机号显示、新手机号输入（国家代码+号码）、登录密码输入。
      4. 弹窗：手机验证弹窗（PhoneVerificationModal），包含验证码输入框。
  - id: REQ-8.2
    name: 手机号输入校验
    description: 校验用户输入的新手机号格式
    scenarios:
      - id: SCN-8.2.1
        description: 手机号码过短
        given: 用户在手机核验页
        when: 用户输入的手机号码长度小于11个字符
        then: 系统提示：您输入的手机号码不是有效的格式！
      - id: SCN-8.2.2
        description: 手机号码过长
        given: 用户在手机核验页，且已输入11位号码
        when: 用户尝试输入第12个字符
        then: 系统仅保留用户最初输入的11个字符
      - id: SCN-8.2.3
        description: 手机号码包含非数字字符
        given: 用户在手机核验页
        when: 用户输入的手机号码包含除了数字以外的字符
        then: 系统提示：您输入的手机号码不是有效的格式！
      - id: SCN-8.2.4
        description: 手机号码格式正确
        given: 用户在手机核验页
        when: 用户输入的手机号码长度为11个字符，且只包含数字
        then: 不出现系统提示
  - id: REQ-8.3
    name: 登录密码校验与提交
    description: 校验登录密码并触发核验弹窗
    scenarios:
      - id: SCN-8.3.1
        description: 未输入密码
        given: 用户在手机核验页
        when: 用户点击"确认"按钮
        then: 系统提示：输入登录密码！
      - id: SCN-8.3.2
        description: 密码错误
        given: 用户在手机核验页，输入的密码与数据库不符
        when: 用户点击"确认"按钮
        then: 系统提示：密码错误！
      - id: SCN-8.3.3
        description: 密码正确且手机号合规
        given: 用户在手机核验页，密码正确，手机号格式正确
        when: 用户点击"确认"按钮
        then: |
          系统弹出"手机验证弹窗"。
          控制台显示发送的验证码。
          将手机号及验证码记录在注册数据库中。

- id: REQ-9
  name: 乘客管理页
  description: 常用乘车人信息的增删改查页面
  functional_description: 提供乘车人列表展示、搜索、添加、编辑、删除（含批量删除）功能。
  ui_description: |
    整体布局与用户基本信息页类似，右侧为乘车人信息展示面板。
    右侧面板包含搜索与筛选区域、乘车人列表表格。
  children:
  - id: REQ-9.1
    name: 乘客管理页布局
    description: 页面列表及操作栏样式
    ui_description: |
      1. 位置导航：显示“当前位置：个人中心 > 常用信息管理 > 乘车人”。
      2. 搜索区域：包含搜索输入框（姓名）、查询按钮。
      3. 表格区域：包含表头（序号、姓名、证件类型、证件号码、手机/电话、核验状态、操作）。
      4. 操作栏：位于表格上方，包含“添加”按钮、“批量删除”按钮。
      5. 表格行：显示具体乘车人信息，操作列包含编辑（铅笔图标）和删除（垃圾桶图标）按钮。
  - id: REQ-9.2
    name: 添加乘车人
    description: 添加新的乘车人信息
    scenarios:
      - id: SCN-9.2.1
        description: 跳转至添加面板
        given: 用户在乘客管理页
        when: 用户点击"添加"按钮
        then: 跳转至添加乘车人面板
      - id: SCN-9.2.2
        description: 取消添加
        given: 用户在添加乘车人面板
        when: 用户点击"取消"按钮
        then: 返回乘车人信息展示面板
      - id: SCN-9.2.3
        description: 姓名校验（过短/过长/特殊字符）
        given: 用户在添加乘车人面板
        when: 输入姓名长度不在3-30字符之间或包含特殊字符
        then: 系统提示相应错误信息
      - id: SCN-9.2.4
        description: 证件号码校验
        given: 用户在添加乘车人面板
        when: 证件号码长度不对、包含非法字符或未通过校验
        then: 系统提示相应错误信息
      - id: SCN-9.2.5
        description: 保存已存在的乘车人
        given: 用户输入的信息已在数据库中存在
        when: 用户点击"保存"按钮
        then: 弹出确认弹窗，提示"该联系人已存在，请使用不同的姓名和证件。"
      - id: SCN-9.2.6
        description: 保存新乘车人
        given: 用户输入的信息合法且数据库中不存在
        when: 用户点击"保存"按钮
        then: |
          弹出确认弹窗，提示"添加成功!"。
          点击确定后跳转回乘客管理页，并写入数据库。
  - id: REQ-9.3
    name: 编辑乘车人
    description: 修改现有乘车人信息
    scenarios:
      - id: SCN-9.3.1
        description: 跳转至编辑面板
        given: 用户在乘客管理页
        when: 用户点击编辑图标
        then: |
          跳转至编辑乘车人面板。
          基本信息模块显示只读信息（含添加日期）。
          表单部分显示可编辑信息。
      - id: SCN-9.3.2
        description: 保存编辑
        given: 用户在编辑乘车人面板，输入合法
        when: 用户点击"保存"按钮
        then: |
          弹出确认弹窗，提示"修改成功"。
          点击确定后跳转回乘客管理页，更新数据库。
  - id: REQ-9.4
    name: 删除乘车人
    description: 删除现有乘车人
    scenarios:
      - id: SCN-9.4.1
        description: 确认删除
        given: 用户点击删除图标
        when: 系统弹出确认删除弹窗
        then: |
          用户点击"确定"后，数据库删除该条记录。
          弹出提示"删除成功"。
          点击确定后刷新乘客管理页。
      - id: SCN-9.4.2
        description: 取消删除
        given: 用户点击删除图标
        when: 系统弹出确认删除弹窗
        then: 用户点击"取消"后，返回乘客管理页，不删除数据。

- id: REQ-10
  name: 火车票订单页
  description: 历史订单查询与展示页面
  functional_description: 提供历史订单的查询、筛选和列表展示功能。
  ui_description: |
    整体布局与用户基本信息页类似，右侧为火车票订单信息展示面板。
    右侧面板包含订单类型切换标签、筛选区域、订单结果展示区、温馨提示区域。
  children:
  - id: REQ-10.1
    name: 火车票订单页布局
    description: 页面各区域样式定义
    ui_description: |
      1. 位置导航：显示“当前位置：个人中心 > 火车票订单”。
      2. 订单类型区域：标签切换（未完成订单、已支付订单等）。
      3. 筛选区域：包含日期选择器（起始/结束）、下拉框组、关键词输入框、查询按钮。
      4. 订单结果展示区：
         - 空状态：显示无订单提示及图标，提供“预定”链接。
         - 订单表格：包含车次信息、乘客信息、座位信息、票价、订单状态等列。
      5. 温馨提示区域：黄色背景，列出订单保存期限、保险说明等注意事项。
  - id: REQ-10.2
    name: 日期选择逻辑
    description: 乘车日期选择的交互逻辑
    scenarios:
      - id: SCN-10.2.1
        description: 合法出发日期推荐
        given: 用户在火车票订单页
        when: 用户点击乘车日期起始框
        then: 显示日历，仅可选已放票日期。选择后自动填入并收回日历。
      - id: SCN-10.2.2
        description: 合法结束日期推荐
        given: 用户在火车票订单页
        when: 用户点击乘车日期结束框
        then: 显示日历，仅可选已放票日期。选择后自动填入并收回日历。
