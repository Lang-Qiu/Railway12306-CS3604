- id: REQ-7
  name: 用户基本信息页
  description: 个人中心核心信息展示与管理界面
  functional_description: 提供个人档案查阅、部分信息（如邮箱）修订、以及向其他管理模块（手机核验、乘客管理等）的导航入口。
  ui_description: |
    整体采用经典的三段式布局：顶部导航栏、主体内容区、底部页脚。
    主体内容区采用双栏设计：左侧为功能导航菜单，右侧为信息展示面板。
    左侧菜单规划了订单中心（火车票订单）、个人信息（档案查阅、手机核验）、常用信息管理（乘车人）等模块。
    右侧面板划分为基本档案、联系方式、附加信息三大区块。
    基本档案区呈现用户名、姓名、证件类型、证件号码及核验状态。
    联系方式区呈现手机号、核验状态及可编辑的邮箱地址。
    附加信息区呈现可配置的优惠类型。
  children:
  - id: REQ-7.1
    name: 用户基本信息页结构布局
    description: 定义页面的视觉框架与区域划分
    ui_description: |
      1. 总体布局：白色底色，定宽1200px，垂直分布为顶、中、底三部分。
      2. 顶部导航：左上角部署Logo，右侧紧邻欢迎语。
      3. 路径导航：面包屑组件，指示路径“当前位置：个人中心 > 查看个人信息”。
      4. 左侧菜单栏：宽度220px，集成了“订单中心”、“个人信息”、“常用信息管理”等主分类及子项。
      5. 右侧信息面板：采用Flex布局，容纳基本档案、联系方式、附加信息三个子模块。
      6. 基本档案模块：以只读方式展示身份核心数据。
      7. 联系方式模块：展示脱敏手机号、带跳转功能的核验状态、可编辑邮箱。
      8. 附加信息模块：展示包含下拉选项的优惠类型编辑项。
      9. 底部导航：包含友情链接列表及官方二维码矩阵。
  - id: REQ-7.2
    name: 邮箱状态展示逻辑
    description: 依据数据库记录动态渲染邮箱信息
    scenarios:
      - id: SCN-7.2.1
        description: 邮箱未设置状态
        given: 数据库中该用户无邮箱记录
        when: 用户访问“查看个人信息”模块
        then: 界面显示“邮箱：”，后方内容留白
      - id: SCN-7.2.2
        description: 邮箱已设置状态
        given: 数据库中存在该用户的邮箱记录
        when: 用户访问“查看个人信息”模块
        then: 界面显示“邮箱：xxxx@xxx”，具体内容取自数据库
  - id: REQ-7.3
    name: 联系方式变更流程
    description: 引导进入手机号核验修改流程
    scenarios:
      - id: SCN-7.3.1
        description: 触发手机核验入口
        given: 用户位于基本信息页
        when: 用户点击联系方式栏的”编辑“操作
        then: |
          界面将“已通过核验”状态变更为“去手机核验修改”的超链接。
          点击该链接将导航至“手机核验页”。

- id: REQ-8
  name: 手机双向核验页
  description: 执行手机号变更与双向验证的界面
  functional_description: 支持新手机号录入、登录密码验证及短信验证码校验的全流程。
  ui_description: |
    整体框架复用个人信息页布局，右侧替换为手机核验专用面板。
    右侧面板包含手机核验（新号录入）、安全验证（密码录入）、操作栏（取消/确认）三个区块。
  children:
  - id: REQ-8.1
    name: 手机核验页视觉布局
    description: 定义页面的详细UI规范
    ui_description: |
      1. 顶部导航：集成Logo、搜索栏及右侧的用户入口（登录/注册/个人中心）。
      2. 路径导航：面包屑指示“当前位置：个人中心 > 个人信息 > 账号安全 > 手机核验”。
      3. 核验操作面板：展示原手机号，提供新手机号（国家码+号码）及登录密码的录入域。
      4. 验证弹窗：PhoneVerificationModal组件，承载验证码输入交互。
  - id: REQ-8.2
    name: 手机号格式校验逻辑
    description: 实时验证新录入手机号的合规性
    scenarios:
      - id: SCN-8.2.1
        description: 号码长度不足
        given: 用户位于手机核验页
        when: 输入号码长度不足11位
        then: 系统反馈提示：您输入的手机号码不是有效的格式！
      - id: SCN-8.2.2
        description: 号码长度超限
        given: 用户已输入11位号码
        when: 尝试输入第12位字符
        then: 输入框自动截断，仅保留前11位
      - id: SCN-8.2.3
        description: 非法字符输入
        given: 用户位于手机核验页
        when: 输入包含非数字字符
        then: 系统反馈提示：您输入的手机号码不是有效的格式！
      - id: SCN-8.2.4
        description: 格式校验通过
        given: 用户位于手机核验页
        when: 输入11位纯数字号码
        then: 无错误提示出现
  - id: REQ-8.3
    name: 密码校验与流程推进
    description: 验证登录密码有效性并触发后续流程
    scenarios:
      - id: SCN-8.3.1
        description: 密码为空校验
        given: 用户位于手机核验页
        when: 点击"确认"按钮时密码域为空
        then: 系统提示：输入登录密码！
      - id: SCN-8.3.2
        description: 密码错误校验
        given: 输入的密码与数据库记录不匹配
        when: 点击"确认"按钮
        then: 系统提示：密码错误！
      - id: SCN-8.3.3
        description: 校验通过触发验证
        given: 密码正确且手机号格式合规
        when: 点击"确认"按钮
        then: |
          系统唤起"手机验证弹窗"。
          控制台模拟输出发送的验证码。
          系统暂存手机号及验证码至注册数据库。

- id: REQ-9
  name: 常用乘车人管理页
  description: 乘车人信息的全生命周期管理界面
  functional_description: 涵盖乘车人列表浏览、检索、新增、编辑及删除（含批量）功能。
  ui_description: |
    整体框架复用个人信息页布局，右侧加载乘车人管理面板。
    右侧面板整合了搜索筛选区与数据列表表格。
  children:
  - id: REQ-9.1
    name: 乘车人管理页布局
    description: 定义列表及操作区域的样式
    ui_description: |
      1. 路径导航：面包屑指示“当前位置：个人中心 > 常用信息管理 > 乘车人”。
      2. 检索区域：配置姓名搜索框及查询按钮。
      3. 数据表格：表头包含序号、姓名、证件类型、证件号码、联系方式、核验状态、操作列。
      4. 工具栏：置于表格上方，提供“添加”及“批量删除”快捷操作。
      5. 数据行：展示单条乘车人信息，操作列集成编辑（铅笔）与删除（垃圾桶）图标。
  - id: REQ-9.2
    name: 乘车人新增流程
    description: 执行新乘车人信息的录入与保存
    scenarios:
      - id: SCN-9.2.1
        description: 访问添加面板
        given: 用户位于乘车人管理页
        when: 点击"添加"按钮
        then: 视图切换至添加乘车人面板
      - id: SCN-9.2.2
        description: 取消添加操作
        given: 用户位于添加面板
        when: 点击"取消"按钮
        then: 视图返回至乘车人列表面板
      - id: SCN-9.2.3
        description: 姓名合规性校验
        given: 用户位于添加面板
        when: 姓名长度超出3-30字符范围或含特殊字符
        then: 系统显示对应的错误提示
      - id: SCN-9.2.4
        description: 证件号码校验
        given: 用户位于添加面板
        when: 证件号码格式非法或校验失败
        then: 系统显示对应的错误提示
      - id: SCN-9.2.5
        description: 重复记录拦截
        given: 输入的信息在数据库中已存在
        when: 点击"保存"按钮
        then: 弹出警告弹窗"该联系人已存在，请使用不同的姓名和证件。"
      - id: SCN-9.2.6
        description: 成功保存记录
        given: 输入信息合法且无重复
        when: 点击"保存"按钮
        then: |
          弹出提示弹窗"添加成功!"。
          确认后返回列表页，并完成数据库写入。
  - id: REQ-9.3
    name: 乘车人编辑流程
    description: 对既有乘车人信息进行变更
    scenarios:
      - id: SCN-9.3.1
        description: 访问编辑面板
        given: 用户位于乘车人管理页
        when: 点击某记录的编辑图标
        then: |
          视图切换至编辑面板。
          基本信息区以只读形式展示（含添加日期）。
          表单区加载可编辑数据。
      - id: SCN-9.3.2
        description: 提交编辑内容
        given: 用户位于编辑面板且输入合法
        when: 点击"保存"按钮
        then: |
          弹出提示弹窗"修改成功"。
          确认后返回列表页，并完成数据库更新。
  - id: REQ-9.4
    name: 乘车人删除流程
    description: 移除既有的乘车人记录
    scenarios:
      - id: SCN-9.4.1
        description: 执行删除操作
        given: 用户触发删除图标
        when: 系统弹出确认对话框
        then: |
          用户确认后，数据库执行删除。
          弹出提示"删除成功"。
          确认后刷新列表页显示。
      - id: SCN-9.4.2
        description: 撤销删除操作
        given: 用户触发删除图标
        when: 系统弹出确认对话框
        then: 用户取消后，返回列表页，数据保持不变。

- id: REQ-10
  name: 历史订单查询页
  description: 火车票历史订单的检索与展示界面
  functional_description: 提供多维度的订单查询、筛选及列表展示能力。
  ui_description: |
    整体框架复用个人信息页布局，右侧加载订单信息面板。
    右侧面板包含状态切换标签、复合筛选区、结果列表区及温馨提示区。
  children:
  - id: REQ-10.1
    name: 订单页结构布局
    description: 定义各功能区域的视觉样式
    ui_description: |
      1. 路径导航：面包屑指示“当前位置：个人中心 > 火车票订单”。
      2. 状态切换：标签页形式（未完成、已支付等）。
      3. 筛选工具：集成日期范围选择、下拉筛选、关键词搜索及查询按钮。
      4. 结果展示区：
         - 空状态：展示缺省图标及文案，引导“预定”。
         - 数据表格：展示车次、乘客、席位、票价及状态等核心字段。
      5. 温馨提示区：黄色背景面板，说明订单保留期、保险政策等。
  - id: REQ-10.2
    name: 日期选择交互逻辑
    description: 乘车日期筛选组件的交互定义
    scenarios:
      - id: SCN-10.2.1
        description: 起始日期选择
        given: 用户位于订单页
        when: 点击起始日期输入框
        then: 弹出日历组件，限制仅可选已放票日期。选中后自动回填并关闭日历。
      - id: SCN-10.2.2
        description: 截止日期选择
        given: 用户位于订单页
        when: 点击截止日期输入框
        then: 弹出日历组件，限制仅可选已放票日期。选中后自动回填并关闭日历。
