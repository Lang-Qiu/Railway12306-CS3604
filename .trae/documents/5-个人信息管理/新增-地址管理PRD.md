1. 地址管理页

    1.1 页面布局

        1.1.1 整体页面布局：本页面除了**右侧展示面板**外，整体页面设计与用户基本信息页**保持一致**

        1.1.2 右侧展示面板：从上到下依次显示：地址列表、温馨提示区域。

        - 地址列表显示“序号““收件人”“地址”“手机”“操作”五个列标题及下方的地址添加栏，地址添加栏左侧为深绿色的添加按钮与黑色的“添加”字样。在无地址存储的情况下，仅显示四个列标题，地址列表内无任何具体地址显示；在添加地址的情况下，地址添加栏下方将会依次按最新时间顺序显示用户添加的详细地址信息；

        - 温馨提示区域内显示黑体标题“温馨提示”，正文内容为：“1.您最多可添加20个车票快递地址，对已支付的地址30天内不可删除与修改。2.请您准确完整的填写收件地址、收件人姓名、手机号码等信息，并保持电话畅通，以免耽误接收车票。”

        1.1.3 整体页面布局的尺寸应保持固定，不随用户窗口大小变化、系统提示信息弹出等情况而改变

    1.2 页面跳转

        Scenario: 已登录用户点击相应入口进入地址管理页
            Given: 用户当前所在页面存在顶部导航栏
            And: 用户已处于登录状态
            When: 用户点击顶部导航栏的"我的12306"下拉列表中的“地址管理”
            Then: 系统跳转到**地址管理页**

        Scenario: 用户点击顶部导航栏中的logo跳转到首页
            Given: 用户当前在地址管理页
            When: 用户点击顶部导航栏的"中国铁路12306"Logo区域
            Then: 系统跳转到**首页**

    1.3 用户添加地址

        1.3.1 添加地址表单布局

            1.3.1.1 **表单入口**：在地址列表的添加栏左侧，包含深绿色的**添加按钮**与黑色的“添加”字样。

            1.3.1.2 **表单组件**：点击添加后，原地址列表区域消失，显示地址填写表单。表单从上到下依次包含：
            - **所在地址选择区**：包含“省”、“市”、“区/县”、“乡镇”、“附近区域”五个下拉选择框。
            - **详细地址输入框**
            - **收件人输入框**
            - **手机号码输入框**
            - **底部操作按钮**：白色“取消”按钮与橙色“保存”按钮。

            1.3.1.3 **必填项标识**：四个填写项均为必填项，并在组件左侧用“*”进行提示。

        1.3.2 用户填写所在地址

            1.3.2.1 初始状态
            - 五个选择框内分别显示灰字提示信息：“请选择省”、“请选择市”、“请选择区/县”、“请选择乡镇（周边地区）”、“请选择附近区域”。

            1.3.2.2 级联选择逻辑
            Scenario: 用户越级选择地址
                Given: 用户在地址填写表单
                When: 用户点击某个地址选择框（如“市”），但其左侧所有选择框中选择框（如“省”）尚未选择
                Then: 下拉列表内容为空

            Scenario: 用户正常选择地址
                Given：用户在地址填写表单
                When: 用户用户点击某个地址选择框（如“市”），且已完成左侧所有选择框的选择
                Then: 下拉列表显示具体的可选内容

        1.3.3 用户填写详细地址

            Scenario: 详细地址输入框初始状态
                Given: 用户进入地址填写表单
                When: 页面加载完成
                Then: 详细地址输入框内显示灰字提示信息“请填写详细地址”

            Scenario: 输入包含非法字符
                Given: 用户在地址填写表单
                When: 用户输入的详细地址字符串中包含除数字、英文、汉字以外的任何字符
                Then: 填写框下方显示红字提示：“❌您输入的地址中含有非法字符！”

            Scenario: 输入符合规范
                Given: 用户在地址填写表单
                When: 用户输入仅包含数字、英文、汉字的规范字符串
                Then: 系统通过，输入框周边无错误提示信息

        1.3.4 用户填写收件人

            Scenario: 收件人输入框初始状态
                Given: 用户进入地址填写表单
                When: 页面加载完成
                Then: 收件人输入框内显示灰字提示信息“请填写收件人”

            Scenario: 输入包含非法字符
                Given: 用户在地址填写表单
                When: 用户输入除英文或中文以外的其他字符
                Then: 填写框右侧显示红字提示“❌只能包含中文或者英文！”

            Scenario: 输入长度不符合规范（过短）
                Given: 用户在地址填写表单
                When: 用户输入的中文字符少于1个，或输入的英文字符少于2个
                Then: 填写框右侧显示红字提示“❌允许输入的字符串在2-30个字符之间！”

            Scenario: 输入长度不符合规范（过长）
                Given: 用户在地址填写表单
                When: 用户输入的中文或英文字符多于30个
                Then: 填写框右侧显示红字提示“❌允许输入的字符串在2-30个字符之间！”

            Scenario: 输入为空验证（失去焦点）
                Given: 用户已在收件人输入框中输入过内容
                When: 用户删除所有内容，并使输入框失去焦点
                Then: 填写框右侧显示红字提示“❌请输入收件人的姓名！”

            Scenario: 输入符合规范
                Given: 用户在地址填写表单
                When: 用户输入符合规范的收件人姓名，且输入框失去焦点
                Then: 系统通过，输入框周边无错误提示信息

        1.3.5 用户填写手机号码

            Scenario: 手机号码输入框初始状态
                Given: 用户进入地址填写表单
                When: 页面加载完成
                Then: 手机号码输入框内显示灰字提示信息“请填写手机号码”

            Scenario: 输入长度不符合规范
                Given: 用户在地址填写表单
                When: 用户输入的字符串不足11位或超过11位
                Then: 填写框右侧显示红字提示“❌您输入的手机号码不是有效的格式！”

            Scenario: 输入包含非法字符
                Given: 用户在地址填写表单
                When: 用户输入的字符串中包含除了数字以外的其他字符
                Then: 填写框右侧显示红字提示“❌您输入的手机号码不是有效的格式！”

            Scenario: 输入符合规范
                Given: 用户在地址填写表单
                When: 用户输入11位纯数字的合规字符串
                Then: 系统通过，输入框周边无错误提示信息

        1.3.6 用户点击“保存”按钮

            Scenario: 所在地址未完整选择（缺失市）
                Given: 用户在地址填写表单
                When: 用户仅选择到“省”，并点击“保存”按钮
                Then: 省份选择框下方显示红字提示信息“❌请选择市！”

            Scenario: 所在地址未完整选择（缺失区/县）
                Given: 用户在地址填写表单
                When: 用户仅选择到“市”，并点击“保存”按钮
                Then: 市级选择框下方显示红字提示信息“❌请选择区/县！”

            Scenario: 所在地址未完整选择（缺失乡镇）
                Given: 用户在地址填写表单
                When: 用户仅选择到“区/县”，并点击“保存”按钮
                Then: 区/县选择框下方显示红字提示信息“❌请选择请选择乡镇（周边地区）！”

            Scenario: 详细地址未填写
                Given: 用户在地址填写表单
                When: 详细地址项为空，用户点击“保存”按钮
                Then: 详细地址填写框下方显示红字提示“❌请输入详细地址！”
                And: 若下方已有其他红字提示，则保持显示

            Scenario: 收件人未填写
                Given: 用户在地址填写表单
                When: 收件人项为空，用户点击“保存”按钮
                Then: 收件人填写框右侧显示红字提示“❌请输入收件人的姓名！”
                And: 若右侧已有其他红字提示，则保持显示

            Scenario: 手机号码未填写
                Given: 用户在地址填写表单
                When: 手机号码项为空，用户点击“保存”按钮    
                Then: 手机号码填写框右侧显示红字提示“❌请输入收件人的手机号码！”
                And: 若右侧已有其他红字提示，则保持显示

            Scenario: 所有信息填写规范，保存成功
                Given: 用户在地址填写表单
                When: 所有填写框或选择框均已填写完毕且无任何红字提示信息
                And: 用户点击“保存”按钮
                Then: 网页正中间显示确认弹窗，内容为“✅添加成功”文字及“确定”按钮
                And：该信息被存入地址管理数据库
                And: 点击弹窗内“确定”按钮后，保存当前地址，退出编辑状态
                And: 地址填写表单消失，重新显示地址列表，新地址显示在列表中

        1.3.7 用户点击“取消”按钮

            Scenario: 取消添加地址
                Given: 用户在地址填写表单
                When: 用户点击“取消”按钮
                Then: 退出当前地址编辑状态
                And: 地址填写表单消失，重新显示地址列表

    1.4 用户修改与删除地址

        1.4.1 地址列表操作栏
        - 在地址列表内，每个地址对应行的“操作”列标题下，显示一个**垃圾桶图标**和一个**纸笔图标**。
        - “收件人”“地址”“手机”这三列内容均为用户已填写的信息，用户可直接在地址列表中查看。其中地址列显示的是用户的填写的所在地址与详细地址的拼接。
        - “序号”列标题下显示的数字为该地址在地址列表中的顺序，从1开始递增。最新添加的地址显示在列表顶部，序号为1。 

        1.4.2 用户修改地址（点击纸笔图标）

            Scenario: 进入地址修改模式
                Given: 用户在地址管理页，地址列表中存在已添加的地址
                When: 用户点击某条地址对应的**纸笔图标**
                Then: 地址列表消失，原区域显示地址填写表单
                And: 表单内自动填入该地址已有的信息
                And: 用户可在此基础上进行修改（后续验证逻辑与 1.3 节一致）

        1.4.3 用户删除地址（点击垃圾桶图标）

            Scenario: 点击删除图标
                Given: 用户在地址管理页
                When: 用户点击某条地址对应的**垃圾桶图标**
                Then: 网页中央显示确认弹窗
                And: 弹窗内显示文字“您确定要删除选中的车票快递地址吗？”
                And: 弹窗下方显示白色“取消”按钮和橙色“确定”按钮

            Scenario: 取消删除
                Given: 页面已显示删除确认弹窗
                When: 用户点击弹窗内的“取消”按钮
                Then: 弹窗消失，地址未被删除

            Scenario: 确认删除
                Given: 页面已显示删除确认弹窗
                When: 用户点击弹窗内的“确定”按钮
                Then: 弹窗消失
                And: 该地址从数据库及列表中被删除


