id: REQ-1
name: 首页及查询页面
functional_description: 首页与查询页面的整体架构设计及功能规格定义。
children:
  - id: REQ-1-1
    name: 页面布局结构
    children:
      - id: REQ-1-1-1
        name: 全局版式
        ui_description: |
          背景色设定为纯白色，布局上划分为上、中、下三个板块，顶部为导航控制区，中部部署车票查询表单，底部则为辅助导航区。
      - id: REQ-1-1-2
        name: 顶部导航栏（HomeTopBar）
        ui_description: |
          - **整体风格**：背景色纯白色，底边框色浅灰色，阴影效果淡灰色阴影，最大宽幅1400px，内衬间距12px 40px
          - **Logo 标识区**：页面左上角部署Logo，左侧展示中国铁路12306官方徽标（规格60px×60px），右侧上部标注"中国铁路12306"（字号22px，加粗，色值深灰色，字距1.3px），下部标注"12306 CHINA RAILWAY"（字号15px，色值灰色，字距0.1px），点击即跳转至12306主页
          - **检索框**：置于Logo区与右侧链接区之间，最大宽幅480px，高36px，内衬0 50px 0 16px，边框色浅灰色，字号13px，文本色深灰色，占位符色浅灰色，聚焦状态边框色亮蓝色，附带阴影淡蓝色，右侧检索按钮宽42px，高36px，背景色亮蓝色，悬停背景色深蓝色
          - **右侧功能链**：展示"登录"、"注册"、"个人中心"等入口，字号14px，链接色亮蓝色，悬停色深蓝色，链接间距8px，中间以竖线分隔（色值亮蓝色，宽1px，高12px）
          - **登录状态展示**：显示"欢迎，[用户名]"（用户名色值蓝色，加粗，字号14px），以及"退出"选项（色值亮蓝色，字号14px）
      - id: REQ-1-1-3
        name: 主导航条（MainNavigation）
        ui_description: |
          - **整体风格**：背景色亮蓝色，底边框色深蓝色，阴影淡黑色阴影，高度45px，最大宽幅1400px，内衬0 40px，采用粘性定位（sticky）
          - **导航条目**：囊括"车票查询"、"订单查询"、"我的12306"等项目，各项目均分宽度（flex: 1），内衬0 24px，字号16px，文本色纯白色，悬停背景色深蓝色，左侧边框半透明白色
          - **登录/注册按键**：置于导航条右端，内衬6px 18px，边框半透明白色，圆角4px，背景色半透明白色，文本色纯白色，字号14px，中等粗细（font-weight: 500），悬停背景色高亮半透明白色
      - id: REQ-1-1-4
        name: 车票查询表单区
        ui_description: |
          - **推广底图**：中部采用宽屏12306官方APP推广图作为表单背景，底图覆盖全部查询区，最小高度400px，纵向内衬60px 0
          - **表单容器**：最大宽幅530px，背景色纯白色，阴影淡黑色阴影，直角设计，定位在推广底图左侧
          - **左侧侧边栏**：宽100px，背景色亮蓝色，包含三个标签页按钮（"车票"、"常用查询"、"订餐"），按钮内衬20px 10px 20px 5px，字号16px，文本色纯白色，底边框半透明白色，悬停背景半透明白色，选中背景纯白色，文本色亮蓝色，左侧边框3px solid 亮蓝色，图标规格18px×18px
          - **表单主体区**：背景色纯白色，内衬0 24px 14px 24px
          - **车票类型选项卡**：包括"单程"、"往返"、"中转换乘"、"退改签"四类，各选项卡均分宽度，内衬10px 5px 8px 5px，字号14px，默认文本色灰色，选中文本色亮蓝色，底边框2px solid 浅灰色，选中底边框2px solid 亮蓝色，图标规格16px×16px
          - **站点选择区**：内衬20px 30px 0 30px，右侧预留70px空间放置交换控件
              - **出发城市输入**：左侧标签"出发城市"（字号14px，色值深灰色，最小宽56px，右对齐），输入框宽100%，右侧配位置图标（规格18px×18px，色值浅灰色）
              - **到达城市输入**：左侧标签"到达城市"（字号14px，色值深灰色，最小宽56px，右对齐），输入框宽100%，右侧配位置图标（规格18px×18px，色值浅灰色）
              - **交换控件**：置于出发与到达输入框之间，绝对定位（right: 25px, top: 18px），规格20px×20px，背景色橙色，圆形外观（border-radius: 50%），图标规格18px×18px，色值纯白色，悬停缩放比例0.96
              - **连接线**：灰色Z字折线（色值浅灰色，宽2px），规格40px×90px
          - **出发日期输入**：左侧标签"出发日期"（字号14px，色值深灰色，最小宽56px，右对齐），输入框宽100%，右侧配日历图标（规格18px×18px，色值浅灰色），内衬0 30px，顶部间距5px
          - **复选框组**：两个复选框居中排布，间距40px，内衬5px
              - **"学生"选项**：文案在左，选框在右，间距8px，字号14px，色值深灰色，选框规格16px×16px，边框浅灰色，选中背景亮蓝色，边框亮蓝色，勾选标记为白色"✓"（字号12px，加粗）
              - **"高铁/动车"选项**：样式同"学生"选项
          - **查询操作按钮**：宽100%，内衬5px，背景色橙色，文本纯白色，字号16px，加粗，圆角5px，字距8px，悬停背景深橙色，禁用背景灰色
          - **错误提示栏**：文本色红色，字号13px，内衬10px 0px，背景色浅红色，居中对齐，支持滑入动效
      - id: REQ-1-1-5
        name: 中部快捷入口区
        ui_description: |
          - **整体风格**：背景色纯白色，顶部间距40px，最大宽幅1300px，内衬0 40px
      - id: REQ-1-1-6
        name: 宣传展示区
        ui_description: |
          - **整体风格**：最大宽幅1300px，顶部间距30px，内衬0 40px
          - **宣传网格**：2列网格排布，间距20px
          - **宣传卡片**：背景色纯白色，直角，阴影淡黑色阴影，悬停上浮4px，阴影淡黑色阴影，涵盖四幅宣传图（"首页-会员服务-左上.jpg"、"首页-餐饮特产-右上.jpg"、"首页-铁路保险-左下.jpg"、"首页-计次定期票-右下.png"）
      - id: REQ-1-1-7
        name: 底部信息发布区
        ui_description: |
          - **整体风格**：背景色纯白色，顶部间距30px，底部间距40px，最大宽幅1300px，内衬0 40px
      - id: REQ-1-1-8
        name: 底部导航栏
        ui_description: |
          - **底部导航**：左侧展示友情链接，右侧排列四个官方平台二维码，依次为"中国铁路官方微信"（引用图片二维码"中国铁路官方微信二维码.png"）、"中国铁路官方微博"（引用图片二维码"中国铁路官方微博二维码.png"）、"12306 公众号"（引用图片二维码"12306公众号二维码.png"）、"铁路 12306"（引用图片二维码"铁路12306二维码.png"）

  - id: REQ-1-2
    name: 用户车票查询流程
    children:
      - id: REQ-1-2-1
        name: 出发地空值校验
        scenarios:
          - name: 用户未在查询表单填写出发地
            steps:
              - action: 用户位于**首页/查询页**且未在表单中填写出发地
                expectation: 系统处于待命状态
              - action: 用户点击表单中的**查询**
                expectation: 按钮上方浮现提示"请选择出发城市"，文本色红色，字号13px，内衬10px 0px，背景色浅红色，居中对齐

      - id: REQ-1-2-2
        name: 到达地空值校验
        scenarios:
          - name: 用户未在查询表单填写到达地
            steps:
              - action: 用户位于**首页/查询页**且未在表单中填写到达地
                expectation: 系统处于待命状态
              - action: 用户点击表单中的**查询**
                expectation: 按钮上方浮现提示"请选择到达城市"，文本色#d32f2f（红），字号13px，内衬10px 0px，背景色#ffebee（浅红），居中对齐

      - id: REQ-1-2-3
        name: 站点合法性校验
        scenarios:
          - name: 用户输入了不支持的出发地
            steps:
              - action: 用户在**首页/查询页**表单中填入了**数据库**不存在的城市作为出发或到达地
                expectation: 系统处于待命状态
              - action: 用户点击表单中的**查询**
                expectation: 按钮上方浮现提示"无法匹配该出发城市"或"无法匹配该到达城市"，文本色#d32f2f（红），字号13px，内衬10px 0px，背景色#ffebee（浅红），居中对齐

      - id: REQ-1-2-5
        name: 有效出发地推荐
        scenarios:
          - name: 用户选择出发地
            steps:
              - action: 用户位于**首页/查询页**
                expectation: 系统处于待命状态
              - action: 用户点击表单出发地输入框
                expectation: 系统下拉菜单展示**数据库**收录的所有站点

      - id: REQ-1-2-6
        name: 有效到达地推荐
        scenarios:
          - name: 用户选择到达地
            steps:
              - action: 用户位于**首页/查询页**
                expectation: 系统处于待命状态
              - action: 用户点击表单到达地输入框
                expectation: 系统下拉菜单展示**数据库**收录的所有站点

      - id: REQ-1-2-7
        name: 有效出发日期推荐
        scenarios:
          - name: 用户选择出发日期
            steps:
              - action: 用户位于**首页/查询页**
                expectation: 系统处于待命状态
              - action: 用户点击表单出发日期控件
                expectation: 系统下拉展示日历，仅开放已售票日期的选择，禁用过期或未开售日期

      - id: REQ-1-2-8
        name: 站点交换功能
        scenarios:
          - name: 用户触发交换操作
            steps:
              - action: 用户在**首页/查询页**表单中已选定出发地或到达地
                expectation: 系统处于待命状态
              - action: 用户点击**交换控件**
                expectation: 系统互换出发地与到达地输入框中的内容

      - id: REQ-1-2-9
        name: 默认填充当前日期
        scenarios:
          - name: 用户未操作出发日期
            steps:
              - action: 用户位于**车票查询页面**
                expectation: 系统处于待命状态
              - action: 用户未输入出发日期或未进行相关操作
                expectation: 系统自动在出发日期栏填入当前日期

      - id: REQ-1-2-10
        name: 查询成功处理
        scenarios:
          - name: 输入有效且系统响应正常
            steps:
              - action: 用户在**首页/查询页**表单中填入了有效的出发地、到达地及出发日期
                expectation: 系统处于待命状态
              - action: 用户点击“**查询**”按钮
                expectation: 系统响应成功，100毫秒内跳转至车次列表页，并展示符合筛选条件（含高铁/动车）的车次信息
          - name: 输入有效但系统未响应
            steps:
              - action: 用户在**首页/查询页**表单中填入了有效的出发地、到达地及出发日期
                expectation: 系统处于待命状态
              - action: 用户点击"**查询**"按钮
                expectation: 按钮上方浮现提示"查询失败，请稍后重试"，文本色红色，字号13px，内衬10px 0px，背景色浅红色，居中对齐；页面保持静止，保留已输入数据

  - id: REQ-1-3
    name: 登录/注册流程
    children:
      - id: REQ-1-3-1
        name: 用户登录请求
        scenarios:
          - name: 未登录状态点击登录
            steps:
              - action: 用户位于**首页/查询页**
                expectation: 系统处于待命状态
              - action: 用户点击“**登录**”按钮（未登录状态）
                expectation: 系统响应成功，100毫秒内跳转至登录页
          - name: 未登录状态点击登录（系统无响应）
            steps:
              - action: 用户位于**首页/查询页**
                expectation: 系统处于待命状态
              - action: 用户点击“**登录**”按钮（未登录状态）
                expectation: 超过100毫秒未跳转，并提示“登录失败，请稍后重试”

      - id: REQ-1-3-2
        name: 用户注册请求
        scenarios:
          - name: 注册新账户
            steps:
              - action: 用户位于**首页/查询页**
                expectation: 系统处于待命状态
              - action: 用户点击“**注册**”按钮（未注册状态）
                expectation: 系统响应成功，100毫秒内跳转至注册页
          - name: 注册新账户（系统无响应）
            steps:
              - action: 用户位于**首页/查询页**
                expectation: 系统处于待命状态
              - action: 用户点击“**注册**”按钮（未注册状态）
                expectation: 超过100毫秒未跳转，并提示“注册失败，请稍后重试”

      - id: REQ-1-3-3
        name: 已登录状态维护
        scenarios:
          - name: 已登录显示
            steps:
              - action: 用户位于**首页/查询页**
                expectation: 系统处于待命状态
              - action: 用户保持登录状态
                expectation: 顶部导航栏仅展示“个人中心”入口，隐藏“登录”与“注册”入口

  - id: REQ-1-4
    name: 个人中心跳转流程
    children:
      - id: REQ-1-4-1
        name: 已登录跳转
        scenarios:
          - name: 已登录点击个人中心
            steps:
              - action: 用户位于**首页/查询页**，且已登录
                expectation: 系统处于待命状态
              - action: 用户点击“**个人中心**”入口
                expectation: 系统响应成功，100毫秒内跳转至用户的个人中心页
          - name: 已登录点击个人中心（系统无响应）
            steps:
              - action: 用户位于**首页/查询页**，且已登录
                expectation: 系统处于待命状态
              - action: 用户点击“**个人中心**”入口
                expectation: 超过100毫秒未跳转，并提示“前往个人中心失败，请稍后重试”

      - id: REQ-1-4-2
        name: 未登录跳转
        scenarios:
          - name: 未登录点击个人中心
            steps:
              - action: 用户位于**首页/查询页**，未登录
                expectation: 系统处于待命状态
              - action: 用户点击“**个人中心**”入口
                expectation: 系统响应成功，100毫秒内跳转至登录页
          - name: 未登录点击个人中心（系统无响应）
            steps:
              - action: 用户位于**首页/查询页**，未登录
                expectation: 系统处于待命状态
              - action: 用户点击“**个人中心**”入口
                expectation: 超过100毫秒未跳转，并提示“请先登录12306账号！”

  - id: REQ-1-5
    name: 车票查询快捷入口流程
    scenarios:
      - name: 点击车票查询快捷入口
        steps:
          - action: 用户位于**首页/查询页**
            expectation: 系统处于待命状态
          - action: 用户点击“**车票查询**”入口
            expectation: 系统响应成功，100毫秒内跳转至车票查询页
      - name: 点击车票查询快捷入口（失败）
        steps:
          - action: 用户位于**首页/查询页**
            expectation: 系统处于待命状态
          - action: 用户点击“**车票查询**”入口
            expectation: 超过100毫秒未跳转，并提示“查询失败，请稍后重试”
